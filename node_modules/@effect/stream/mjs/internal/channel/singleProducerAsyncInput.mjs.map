{"version":3,"file":"singleProducerAsyncInput.mjs","names":["bodyWithTrace","methodWithTrace","Either","Cause","Deferred","Effect","Exit","Ref","OP_STATE_EMPTY","OP_STATE_EMIT","OP_STATE_ERROR","OP_STATE_DONE","stateEmpty","notifyProducer","_tag","stateEmit","notifyConsumers","stateError","cause","stateDone","done","SingleProducerAsyncInputImpl","constructor","ref","awaitRead","trace","flatten","modify","state","await","unit","traced","close","fiberIdWith","fiberId","error","interrupt","value","forEachDiscard","deferred","succeed","left","emit","element","flatMap","notifyConsumer","slice","undefined","right","length","Error","make","failCause","take","takeWith","map","elem","fail","onError","onElement","onDone","zipRight","matchCause","match"],"sources":["../../../../src/internal/channel/singleProducerAsyncInput.ts"],"sourcesContent":[null],"mappings":"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"}