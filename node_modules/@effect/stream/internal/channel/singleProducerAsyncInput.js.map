{"version":3,"file":"singleProducerAsyncInput.js","names":["_Debug","require","Either","_interopRequireWildcard","Cause","Deferred","Effect","Exit","Ref","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","OP_STATE_EMPTY","OP_STATE_EMIT","OP_STATE_ERROR","OP_STATE_DONE","stateEmpty","notifyProducer","_tag","stateEmit","notifyConsumers","stateError","cause","stateDone","done","SingleProducerAsyncInputImpl","constructor","ref","awaitRead","bodyWithTrace","trace","flatten","modify","state","await","unit","traced","close","fiberIdWith","fiberId","error","interrupt","value","forEachDiscard","deferred","succeed","left","emit","element","flatMap","notifyConsumer","slice","undefined","right","length","Error","make","failCause","take","takeWith","map","elem","fail","onError","onElement","onDone","zipRight","matchCause","match","methodWithTrace","exports"],"sources":["../../../../src/internal/channel/singleProducerAsyncInput.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,MAAA,gBAAAC,OAAA;AACA,IAAAC,MAAA,gBAAAC,uBAAA,eAAAF,OAAA;AAEA,IAAAG,KAAA,gBAAAD,uBAAA,eAAAF,OAAA;AACA,IAAAI,QAAA,gBAAAF,uBAAA,eAAAF,OAAA;AACA,IAAAK,MAAA,gBAAAH,uBAAA,eAAAF,OAAA;AACA,IAAAM,IAAA,gBAAAJ,uBAAA,eAAAF,OAAA;AACA,IAAAO,GAAA,gBAAAL,uBAAA,eAAAF,OAAA;AAAqC,SAAAQ,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAP,wBAAAW,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAUrC;AACA,MAAMW,cAAc,GAAG,OAAgB;AAKvC;AACA,MAAMC,aAAa,GAAG,MAAe;AAKrC;AACA,MAAMC,cAAc,GAAG,OAAgB;AAKvC;AACA,MAAMC,aAAa,GAAG,MAAe;AA6BrC;AACA,MAAMC,UAAU,GAAIC,cAA8C,KAAkC;EAClGC,IAAI,EAAEN,cAAc;EACpBK;CACD,CAAC;AAEF;AACA,MAAME,SAAS,GACbC,eAAiF,KACrD;EAC5BF,IAAI,EAAEL,aAAa;EACnBO;CACD,CAAC;AAEF;AACA,MAAMC,UAAU,GAASC,KAAuB,KAAgC;EAC9EJ,IAAI,EAAEJ,cAAc;EACpBQ;CACD,CAAC;AAEF;AACA,MAAMC,SAAS,GAAUC,IAAU,KAAiC;EAClEN,IAAI,EAAEH,aAAa;EACnBS;CACD,CAAC;AAEF;AACA,MAAMC,4BAA4B;EAGhCC,YAAqBC,GAAoC;IAApC,KAAAA,GAAG,GAAHA,GAAG;EACxB;EAEAC,SAASA,CAAA;IACP,OAAO,IAAAC,oBAAa,EAAEC,KAAK,IAAI;MAC7B,OAAO3C,MAAM,CAAC4C,OAAO,CACnB1C,GAAG,CAAC2C,MAAM,CAAC,IAAI,CAACL,GAAG,EAAGM,KAAK,IACzBA,KAAK,CAACf,IAAI,KAAKN,cAAc,GAC3B,CAAC1B,QAAQ,CAACgD,KAAK,CAACD,KAAK,CAAChB,cAAc,CAAC,EAAEgB,KAA+B,CAAC,GACvE,CAAC9C,MAAM,CAACgD,IAAI,EAAE,EAAEF,KAAK,CAAC,CAAC,CAC5B,CAACG,MAAM,CAACN,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ;EAEAO,KAAKA,CAAA;IACH,OAAO,IAAAR,oBAAa,EAAEC,KAAK,IAAI;MAC7B,OAAO3C,MAAM,CAACmD,WAAW,CACtBC,OAAO,IAAK,IAAI,CAACC,KAAK,CAACvD,KAAK,CAACwD,SAAS,CAACF,OAAO,CAAC,CAAC,CAClD,CAACH,MAAM,CAACN,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ;EAEAN,IAAIA,CAACkB,KAAW;IACd,OAAO,IAAAb,oBAAa,EAAEC,KAAK,IAAI;MAC7B,OAuBE3C,MAAM,CAAC4C,OAAO,CAtBd1C,GAAG,CAAC2C,MAAM,CAAC,IAAI,CAACL,GAAG,EAAGM,KAAK,IAAI;QAC7B,QAAQA,KAAK,CAACf,IAAI;UAChB,KAAKN,cAAc;YAAE;cACnB,OAAO,CAAC1B,QAAQ,CAACgD,KAAK,CAACD,KAAK,CAAChB,cAAc,CAAC,EAAEgB,KAAK,CAAC;;UAEtD,KAAKpB,aAAa;YAAE;cAClB,OAAO,CAGH1B,MAAM,CAACwD,cAAc,CAAEC,QAAQ,IAAK1D,QAAQ,CAAC2D,OAAO,CAACD,QAAQ,EAAE7D,MAAM,CAAC+D,IAAI,CAACJ,KAAK,CAAC,CAAC,CAAC,CADnFT,KAAK,CAACb,eAAe,GAGvBG,SAAS,CAACmB,KAAK,CAA2B,CAC3C;;UAEH,KAAK5B,cAAc;YAAE;cACnB,OAAO,CAAC3B,MAAM,CAACsD,SAAS,EAAE,EAAER,KAAK,CAAC;;UAEpC,KAAKlB,aAAa;YAAE;cAClB,OAAO,CAAC5B,MAAM,CAACsD,SAAS,EAAE,EAAER,KAAK,CAAC;;QACnC;MAEL,CAAC,CAAC,EAEFG,MAAM,CAACN,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ;EAEAiB,IAAIA,CAACC,OAAa;IAChB,OAAO,IAAAnB,oBAAa,EAAEC,KAAK,IAAI;MAC7B,OAEE3C,MAAM,CAAC8D,OAAO,CAAEL,QAAQ,IA8BpBzD,MAAM,CAAC4C,OAAO,CA5Bd1C,GAAG,CAAC2C,MAAM,CAAC,IAAI,CAACL,GAAG,EAAGM,KAAK,IAAI;QAC7B,QAAQA,KAAK,CAACf,IAAI;UAChB,KAAKN,cAAc;YAAE;cACnB,OAAO,CAAC1B,QAAQ,CAACgD,KAAK,CAACD,KAAK,CAAChB,cAAc,CAAC,EAAEgB,KAAK,CAAC;;UAEtD,KAAKpB,aAAa;YAAE;cAClB,MAAMqC,cAAc,GAAGjB,KAAK,CAACb,eAAe,CAAC,CAAC,CAAC;cAC/C,MAAMA,eAAe,GAAGa,KAAK,CAACb,eAAe,CAAC+B,KAAK,CAAC,CAAC,CAAC;cACtD,IAAID,cAAc,KAAKE,SAAS,EAAE;gBAChC,OAAO,CACLlE,QAAQ,CAAC2D,OAAO,CAACK,cAAc,EAAEnE,MAAM,CAACsE,KAAK,CAACL,OAAO,CAAC,CAAC,EACtD5B,eAAe,CAACkC,MAAM,KAAK,CAAC,GAC3BtC,UAAU,CAAC4B,QAAQ,CAAC,GACpBzB,SAAS,CAACC,eAAe,CAAC,CAC7B;;cAEH,MAAM,IAAImC,KAAK,CACb,oIAAoI,CACrI;;UAEH,KAAKzC,cAAc;YAAE;cACnB,OAAO,CAAC3B,MAAM,CAACsD,SAAS,EAAE,EAAER,KAAK,CAAC;;UAEpC,KAAKlB,aAAa;YAAE;cAClB,OAAO,CAAC5B,MAAM,CAACsD,SAAS,EAAE,EAAER,KAAK,CAAC;;QACnC;MAEL,CAAC,CAAC,CAEH,CACF,CAjCD/C,QAAQ,CAACsE,IAAI,EAAe,EAkC5BpB,MAAM,CAACN,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ;EAEAU,KAAKA,CAAClB,KAAuB;IAC3B,OAAO,IAAAO,oBAAa,EAAEC,KAAK,IAAI;MAC7B,OAuBE3C,MAAM,CAAC4C,OAAO,CAtBd1C,GAAG,CAAC2C,MAAM,CAAC,IAAI,CAACL,GAAG,EAAGM,KAAK,IAAI;QAC7B,QAAQA,KAAK,CAACf,IAAI;UAChB,KAAKN,cAAc;YAAE;cACnB,OAAO,CAAC1B,QAAQ,CAACgD,KAAK,CAACD,KAAK,CAAChB,cAAc,CAAC,EAAEgB,KAAK,CAAC;;UAEtD,KAAKpB,aAAa;YAAE;cAClB,OAAO,CACL1B,MAAM,CAACwD,cAAc,CACnBV,KAAK,CAACb,eAAe,EACpBwB,QAAQ,IAAK1D,QAAQ,CAACuE,SAAS,CAACb,QAAQ,EAAEtB,KAAK,CAAC,CAClD,EACDD,UAAU,CAACC,KAAK,CAA2B,CAC5C;;UAEH,KAAKR,cAAc;YAAE;cACnB,OAAO,CAAC3B,MAAM,CAACsD,SAAS,EAAE,EAAER,KAAK,CAAC;;UAEpC,KAAKlB,aAAa;YAAE;cAClB,OAAO,CAAC5B,MAAM,CAACsD,SAAS,EAAE,EAAER,KAAK,CAAC;;QACnC;MAEL,CAAC,CAAC,EAEFG,MAAM,CAACN,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ;EAEA4B,IAAIA,CAAA;IACF,OAAO,IAAA7B,oBAAa,EAAEC,KAAK,IAAI;MAC7B,OAAO,IAAI,CAAC6B,QAAQ,CACjBrC,KAAK,IAAKlC,IAAI,CAACqE,SAAS,CAACxE,KAAK,CAAC2E,GAAG,CAACtC,KAAK,EAAEvC,MAAM,CAAC+D,IAAI,CAAC,CAAC,EACvDe,IAAI,IAAKzE,IAAI,CAACyD,OAAO,CAACgB,IAAI,CAA8C,EACxErC,IAAI,IAAKpC,IAAI,CAAC0E,IAAI,CAAC/E,MAAM,CAACsE,KAAK,CAAC7B,IAAI,CAAC,CAAC,CACxC,CAACY,MAAM,CAACN,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ;EAEA6B,QAAQA,CACNI,OAAuC,EACvCC,SAA+B,EAC/BC,MAA0B;IAE1B,OAAO,IAAApC,oBAAa,EAAEC,KAAK,IAAI;MAC7B,OAEE3C,MAAM,CAAC8D,OAAO,CAAEL,QAAQ,IAmCpBzD,MAAM,CAAC4C,OAAO,CAjCd1C,GAAG,CAAC2C,MAAM,CAAC,IAAI,CAACL,GAAG,EAAGM,KAAK,IAAI;QAC7B,QAAQA,KAAK,CAACf,IAAI;UAChB,KAAKN,cAAc;YAAE;cACnB,OAAO,CACLzB,MAAM,CAAC+E,QAAQ,CACbhF,QAAQ,CAAC2D,OAAO,CAACZ,KAAK,CAAChB,cAAc,EAAE,KAAK,CAAC,CAAC,EAC9C9B,MAAM,CAACgF,UAAU,CACfjF,QAAQ,CAACgD,KAAK,CAACU,QAAQ,CAAC,EACxBmB,OAAO,EACPhF,MAAM,CAACqF,KAAK,CAACH,MAAM,EAAED,SAAS,CAAC,CAChC,CACF,EACD7C,SAAS,CAAC,CAACyB,QAAQ,CAAC,CAAC,CACtB;;UAEH,KAAK/B,aAAa;YAAE;cAClB,OAAO,CACL1B,MAAM,CAACgF,UAAU,CACfjF,QAAQ,CAACgD,KAAK,CAACU,QAAQ,CAAC,EACxBmB,OAAO,EACPhF,MAAM,CAACqF,KAAK,CAACH,MAAM,EAAED,SAAS,CAAC,CAChC,EACD7C,SAAS,CAAC,CAAC,GAAGc,KAAK,CAACb,eAAe,EAAEwB,QAAQ,CAAC,CAAC,CAChD;;UAEH,KAAK9B,cAAc;YAAE;cACnB,OAAO,CAAC3B,MAAM,CAAC0D,OAAO,CAACkB,OAAO,CAAC9B,KAAK,CAACX,KAAK,CAAC,CAAC,EAAEW,KAAK,CAAC;;UAEtD,KAAKlB,aAAa;YAAE;cAClB,OAAO,CAAC5B,MAAM,CAAC0D,OAAO,CAACoB,MAAM,CAAChC,KAAK,CAACT,IAAI,CAAC,CAAC,EAAES,KAAK,CAAC;;QACnD;MAEL,CAAC,CAAC,CAEH,CACF,CAtCD/C,QAAQ,CAACsE,IAAI,EAAkC,EAuC/CpB,MAAM,CAACN,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ;;AAGF;AACO,MAAM0B,IAAI,gBAAG,IAAAa,sBAAe,EAAEvC,KAAK,IACxC,MAQI3C,MAAM,CAACyE,GAAG,CAAEjC,GAAG,IAAK,IAAIF,4BAA4B,CAACE,GAAG,CAAC,CAAC,CAD1DxC,MAAM,CAAC8D,OAAO,CAAEL,QAAQ,IAAKvD,GAAG,CAACmE,IAAI,CAACxC,UAAU,CAAC4B,QAAQ,CAA2B,CAAC,CAAC,CADtF1D,QAAQ,CAACsE,IAAI,EAAe,GAG5BpB,MAAM,CAACN,KAAK,CAAC,CAClB;AAAAwC,OAAA,CAAAd,IAAA,GAAAA,IAAA"}