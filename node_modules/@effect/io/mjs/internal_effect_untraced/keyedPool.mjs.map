{"version":3,"file":"keyedPool.mjs","names":["Debug","Duration","Equal","Hash","HashMap","MutableRef","Option","core","effect","fiberRuntime","pool","KeyedPoolSymbolKey","KeyedPoolTypeId","Symbol","for","KeyedPoolMapValueSymbol","keyedPoolVariance","_K","_","_E","_A","KeyedPoolImpl","constructor","getOrCreatePool","activePools","_a","get","key","bodyWithTrace","trace","flatMap","traced","invalidate","item","forEachDiscard","Complete","_tag","_b","symbol","combine","hash","string","u","isComplete","equals","Pending","deferred","_c","isPending","makeWith","methodWithTrace","min","max","timeToLive","map","context","fiberId","scope","suspend","value","getOrUndefined","undefined","uninterruptibleMask","restore","deferredUnsafeMake","previous","has","update","set","matchCauseEffect","cause","current","remove","zipRight","deferredFailCause","failCause","as","deferredSucceed","scopeExtend","makeWithTTL","provideContext","getOrElse","infinity","succeed","deferredAwait","forEach","Array","from","values","all","sync","make","empty","scopeMake","makeSized","size","none","makeSizedWith","makeSizedWithTTL","some","makeSizedWithTTLBy","dualWithTrace","self"],"sources":["../../../src/internal_effect_untraced/keyedPool.ts"],"sourcesContent":[null],"mappings":"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"}